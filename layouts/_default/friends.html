{{ define "main" }}

{{- $paginator := .Paginate .Pages }}
<div class="main-container fund-padding-top">
    <div class="left-container fund-border friend-page-container" style="min-height: 84vh">
        <div id="about-title" class="title-container fund-title">
            {{ .Title }}
        </div>
        <div class="post-container">
            {{ .Content }}
        </div>
        <div class="friends-container shadow-a">
            {{ $paginator := .Paginate (where .Site.RegularPages "Type" "posts") 8 }}
            {{ range $paginator.Pages }}
            {{- $avatar := default "/images/default/avatar.jpg" .Params.avatar -}}
            <a class="friend-card" href="{{ .Params.linkTo }}">
                <div>
                    <img class="friend-card-image" src="{{ $avatar }}">
                </div>
                <div class="friend-card-meta">
                    <div class="fund-title">
                        {{ .Params.name }}
                    </div>
                    <div class="fund-secondary">
                        {{ .Params.summary }}
                    </div>
                </div>
            </a>
            {{- end }}
        </div>
        {{ partial "pagination.html" . }}

        {{ partial "comments.html" . }}
    </div>

</div>

<script>
    const metaEnvId = document.querySelector('meta[name="twikoo-env-id"]').getAttribute('content');
    twikoo.init({
        envId: metaEnvId,
        el: '#tcomment', // 容器元素
        path: '/friends'
    });
</script>
{{ end }}